# MAC 주소의 구조

랜 카드는 비트열을 전기 신호로 변환한다.

이러한 랜 카드에 MAC 주소라는 번호가 있다.

## MAC주소

- ( Media Accecss Control Address )물리 주소로 전 세계에서 유일한 번호이다.
- 48비트 숫자로 구성
    - 앞쪽 24비트 : 랜카드를 만든 제조사
    - 뒤쪽 24비트 - 제조사가 랜카드에 붙인 일련번호

## MAC주소를 활용한 통신

OSI 7계층 - 데이터 링크 계층

TCP/IP 4계층 - 네트워크 계층

해당하는 계층에서 **이터넷 헤더**와 **트레일러**를 붙인다.

- 이더넷 헤더
    - 목적지의 MAC 주소(6바이트) + 출발지 MAC 주소(6바이트) + 유형(2바이트) = 14바이트로 구성
    - 이더넷 유형 - 이더넷으로 전송되는 상위 계층 프로토콜(네트워크 통신 규칙)의 종류를 식별하는 번호가 들어감
- 트레일러 (FCS : Frame Check Sequence)
    - 데이터 전송 도중에 오류가 발생하는지 확인하는 용도
- 프레임 (Frame)
    - 이더넷 헤더 + 데이터 + 트레일러
    - 즉, 네트워크를 통해 프레임이 전송된다.

## 데이터 전송 순서

ex) 컴퓨터1 → 컴퓨터3 데이터 전송 (컴퓨터 1~5번까지 있음)

1. 컴퓨터1은 이더넷 헤더에 목적지 컴퓨터3의 MAC주소와 출발지인 자신의 MAC주소 정보를 넣고 데이터 전송 → 캡슐화 과정
2. 데이터 링크 계층에서 데이터에 이더넷 헤더와 트레일러를 추가 → 프레임 생성
3. 물리 계층에서 프레임을 전기 신호로 변환
4. 네트워크를 통해 전송
5. 컴퓨터1은 컴퓨터2~5로 데이터를 전송하지만 2,4,5는 목적지 주소와 자신들의 MAC주소가 다르기 때문에 데이터를 파기
6. 컴퓨터3은 자신의 MAC주소와 목적지 주소가 같아 데이터를 수신
7. 컴퓨터3은 물리계층에서 전기 신호로 전송된 데이터를 비트열로 변환
8. 데이터 링크 계층에서 데이터를 이더넷 헤더와 트레일러로 분리 → 역캡슐화 과정

**If** 컴퓨터 1과 2가 동시에 컴퓨터3에 데이터를 전송할 시 **충돌 방지**를 위해 **CSMA/CD 방식 사용**
